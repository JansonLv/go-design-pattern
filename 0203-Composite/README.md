# 组合模式

组合模式是一种结构型设计模式， 你可以使用它将对象组合成树状结构， 并且能像使用独立对象一样使用它们。

## 使用场景

1. 需要实现树状对象结构
2. 客户端代码以相同方式处理简单和复杂元素

### 🌰

1. 公司组织关系
2. 操作系统文件夹和文件

## 弊端

组合模式进行了一层抽象，其实增加了复杂系统中业务复杂度。如果 Composite（组件） 与 Leaf（节点） 差异过大，那么统一抽象带来的理解成本是很高的。

同时，Leaf 不得不实现一些仅 Composite 存在的空函数，比如 add delete，即便这些方法对他们是无意义的，此时可能要进行统一的无效或错误处理，才能使业务层真正不用感知他们的区别，否则 add 可能会失败，其本质上还是将节点的区别暴露给了业务层。
